importc <stdio.h>
importc <malloc.h>
importc <memory>



macro hello(a)
    f"{''.join([f'int {i} = 0;' for i in 'abcd'])}"
    f"{foreach('`hello {it};`', list(range(10)))}"
    `printf("hello world, %d\n", f"{a}");`
    `printf("hello world, %d\n", f"{1 + 15}");`
end

macro if(condition, body)
    while f"{condition}" {
        f"{body}"
        `break;`
    }
end

macro vec_t(T)
    struct f"Vec_{T}" {
        int ptr;
    }
end

macro vec_declare()
    f"{foreach('mcall vec_t({it})', ['int', 'bool', 'char'])}"
end

mcall vec_declare()


`A a{3,2};`
mcall hello(69)
int flag = 1;
if flag {
mcall if(flag, "int b = 15; int c = 19;")
}
bool k = true;
bool c = true and false;
byte k = 32 as byte;

